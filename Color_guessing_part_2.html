<!doctype html>
<html>
<body onload="do_game()">
  <script type="text/javascript" charset="utf-8">
    var colors=["aqua", "black", "blue", "brown", "fuchsia", "gray", "green",
     "lavender", "pink", "red"];
    var targetIndex;
    var guess;
    var finished=false;
    var count=0;
    function do_game() {
      targetIndex=Math.floor(Math.random()*colors.length);
      alert("The current target is: "+colors[targetIndex]);
      while(!finished){
        guess=prompt("I am thinking one of these colors:\n\n"+colors.join()
        +"\n\nWhat color am I thinking of?");
        count++;
        finished=check_guess();
      }
    }

    function check_guess() {
      var index=colors.indexOf(guess);
      if(index<0){
        alert("Sorry, I don't recognize that color. \n\n Please try again.");
        return false;
      }
      else if(index>targetIndex){
        alert("Sorry, your guess is not correct.\n\n"+
        "Hint: your color is alphabetically higher than mine.\n\n"+
        "Please try again.");
        return false;
      }
      else if(index<targetIndex){
        alert("Sorry, your guess is not correct.\n\n"+
        "Hint: your color is alphabetically lower than mine.\n\n"+
        "Please try again.");
        return false;
      }
      else{
        myBody = document.getElementsByTagName("body")[0];
        myBody.style.background = colors[targetIndex];
        alert("Congratulations! You have guessed the color!\n\n"+
        "It took you "+count+" guesses to finish the game.\n\n"+
        "You can see the color in the background.");
        return true;
      }
      return true;
    }

  </script>
</body>
</html>
